<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.net.URL?>
<Pane fx:controller="com.comp2042.GuiController"
      xmlns:fx="http://javafx.com/fxml" styleClass="tetrisjfx-root" prefWidth="520" prefHeight="560">

    <!-- Main Game Container -->
    <VBox alignment="TOP_CENTER" spacing="0" styleClass="main-container">

        <!-- Header Area -->
        <HBox styleClass="header-area" alignment="CENTER_LEFT" spacing="20">
            <!-- Game Logo/Title -->
            <Label text="TetrisJFX" styleClass="game-title"/>

            <!-- Stats Container -->
            <HBox styleClass="stats-container" spacing="15" alignment="CENTER_LEFT">
                <VBox alignment="CENTER" spacing="2">
                    <Label text="SCORE" styleClass="stat-label"/>
                    <Label fx:id="scoreLabel" text="0" styleClass="stat-value"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="BEST" styleClass="stat-label"/>
                    <Label fx:id="highScoreLabel" text="0" styleClass="stat-value"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="TIME" styleClass="stat-label"/>
                    <Label fx:id="timerLabel" text="00:00" styleClass="stat-value"/>
                </VBox>
            </HBox>
        </HBox>

        <!-- Main Game Area -->
        <HBox styleClass="game-area" alignment="TOP_CENTER" spacing="30">

            <!-- Hold Panel -->
            <VBox styleClass="side-panel" spacing="5" alignment="TOP_CENTER" prefWidth="100" prefHeight="140">
                <Label text="HOLD" styleClass="panel-title"/>
                <VBox styleClass="brick-display-container" alignment="CENTER">
                    <GridPane fx:id="holdBrickPanel" vgap="1" hgap="1" alignment="CENTER"/>
                </VBox>
            </VBox>

            <!-- Game Board Container -->
            <VBox styleClass="game-board-container" alignment="CENTER">
                <!-- Game Board with fixed position -->
                <BorderPane styleClass="game-board" fx:id="gameBoard" layoutX="160" layoutY="120" prefWidth="200" prefHeight="400">
                    <center>
                        <GridPane fx:id="gamePanel" hgap="1" vgap="1" styleClass="game-grid"/>
                    </center>
                </BorderPane>
            </VBox>

            <!-- Next Panel -->
            <VBox styleClass="side-panel" spacing="5" alignment="TOP_CENTER" prefWidth="100" prefHeight="140">
                <Label text="NEXT" styleClass="panel-title"/>
                <VBox styleClass="brick-display-container" alignment="CENTER">
                    <GridPane fx:id="nextBrickPanel" vgap="1" hgap="1" alignment="CENTER"/>
                </VBox>
            </VBox>
        </HBox>

        <!-- Footer Area -->
        <VBox styleClass="footer-area" alignment="CENTER" spacing="8">
            <Label text="CONTROLS" styleClass="controls-title"/>
            <HBox styleClass="controls-container" spacing="15" alignment="CENTER">
                <VBox alignment="CENTER" spacing="2">
                    <Label text="← →" styleClass="control-key"/>
                    <Label text="MOVE" styleClass="control-description"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="↑" styleClass="control-key"/>
                    <Label text="ROTATE" styleClass="control-description"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="↓" styleClass="control-key"/>
                    <Label text="SOFT DROP" styleClass="control-description"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="SPACE" styleClass="control-key"/>
                    <Label text="HARD DROP" styleClass="control-description"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="C/SHIFT" styleClass="control-key"/>
                    <Label text="HOLD" styleClass="control-description"/>
                </VBox>
                <VBox alignment="CENTER" spacing="2">
                    <Label text="N" styleClass="control-key"/>
                    <Label text="NEW GAME" styleClass="control-description"/>
                </VBox>
            </HBox>
        </VBox>
    </VBox>

    <!-- Active Brick Panel - Positioned absolutely -->
    <GridPane fx:id="brickPanel" vgap="1" hgap="1" styleClass="active-brick-panel" layoutX="160" layoutY="120"/>

    <!-- Game Over Panel & Notifications -->
    <Group fx:id="groupNotification" layoutX="160" layoutY="280">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</Pane>